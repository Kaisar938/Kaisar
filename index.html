  <!DOCTYPE html>
  <html lang="id">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KaisarStore - Top Up Robux</title>

  <style>
    /* ===== MAINTENANCE OVERLAY ===== */
.maintenance {
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: radial-gradient(circle at top, #001f3f, #000814);
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 24px;
}

.maintenance-box {
  max-width: 420px;
  background: linear-gradient(145deg,#001a2f,#00284f);
  border-radius: 20px;
  padding: 28px;
  box-shadow: 0 0 40px rgba(0,255,255,0.25);
}

.maintenance-box h1 {
  margin: 0 0 10px;
  font-size: 24px;
  color: var(--p);
}

.maintenance-box p {
  font-size: 14px;
  color: var(--text-alt);
  line-height: 1.5;
}

.maintenance-box .wa-btn {
  margin-top: 18px;
  display: inline-block;
  padding: 12px 18px;
  border-radius: 14px;
  background: var(--p);
  color: #001f3f;
  font-weight: 700;
  text-decoration: none;
}

/* ================= RESET & ROOT ================= */
:root {
  --p: #00ffff;        /* warna utama / tombol / highlight */
  --p-hover: #00cfff;  /* hover */
  --bg: #0a0a1f;       /* background utama */
  --text: #fff;        /* teks utama */
  --text-alt: #ccc;    /* teks sekunder / deskripsi */
  --warning: #ff6b6b;  /* untuk error / warning */
}

/* RESET */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html, body {
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

/* BODY */
body {
  font-family: 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont;
  background: radial-gradient(circle at top, #001f3f, var(--bg));
  color: var(--text);
  padding-top: 72px;
}

/* NAVBAR */
.navbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 72px;
  z-index: 1000;
  background: rgba(0,0,32,.9);
  backdrop-filter: blur(10px);
}

.nav-inner {
  max-width: 1100px;
  height: 100%;
  margin: auto;
  padding: 0 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.logo-wrap {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 900;
  color: var(--p);
}

.logo-wrap img {
  width: 34px;
  height: 34px;
  border-radius: 50%;
  object-fit: cover;
}

.menu a {
  color: var(--text-alt);
  margin: 0 6px;
  text-decoration: none;
  font-size: 14px;
}

.menu a:hover {
  color: var(--text);
}

.nav-btn {
  background: var(--p);
  padding: 9px 14px;
  border-radius: 12px;
  font-weight: 600;
  cursor: pointer;
}

.nav-btn:hover {
  background: var(--p-hover);
}

/* CONTAINER */
.container {
  max-width: 1100px;
  margin: auto;
  padding: 24px 16px 80px;
}

/* CARD */
.card {
  background: linear-gradient(145deg,#001a2f,#001f3f);
  border-radius: 18px;
  padding: 18px;
}

/* GRID */
.grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
}

/* PAKET GRID */
.paket-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 14px;
}

/* PAKET ITEM */
.paket {
  position: relative;
  background: linear-gradient(145deg,#001a2f,#00284f);
  border-radius: 16px;
  padding: 14px;
  text-align: center;
  transition: transform .2s ease, box-shadow .2s ease;
}

.paket:hover {
  transform: translateY(-3px);
  box-shadow: 0 0 16px rgba(0,255,255,0.35);
}

.paket.active {
  box-shadow:
    0 0 0 2px rgba(0,255,255,0.8),
    0 0 24px rgba(0,255,255,0.45);
}

/* PAKET TEXT */
.paket .emoji {
  font-size: 22px;
  margin-bottom: 4px;
}

.robux {
  font-size: 20px;
  font-weight: 800;
}

.harga {
  margin-top: 4px;
  font-size: 12px;
  color: var(--p);
}

/* CHECK */
.check {
  position: absolute;
  top: 6px;
  right: 6px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: linear-gradient(135deg,#00ffff,#00cfff);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  transform: scale(0);
  transition: .2s;
}

.paket.active .check {
  transform: scale(1);
}

/* INPUT & BUTTON */
input,
select {
  width: 100%;
  padding: 14px;
  margin-top: 10px;
  font-size: 16px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: #001528;
  color: var(--text);
}

.btn {
  width: 100%;
  margin-top: 16px;
  padding: 14px;
  border-radius: 14px;
  border: none;
  background: var(--p);
  color: var(--text);
  font-weight: 600;
  cursor: pointer;
}

.btn:hover {
  background: var(--p-hover);
}

.btn.alt {
  background: #001f3f;
}

/* RESULT & RATE NOTE */
.result,
.rate-note {
  margin-top: 14px;
  padding: 14px;
  border-radius: 14px;
  background: rgba(0,255,255,0.08);
  border: 1px dashed rgba(0,255,255,0.5);
  text-align: center;
}

/* CONFIRM */
.confirm {
  display: none;
  background: linear-gradient(145deg,#00122f,#001f3f);
  padding: 18px;
  border-radius: 18px;
  margin-bottom: 30px;
}

/* WARNING */
#passWarning {
  color: var(--warning);
}

/* FOOTER */
footer {
  margin-top: 80px;
  background: linear-gradient(180deg,var(--bg),#001528);
  border-top: 1px solid rgba(255,255,255,.08);
}

.footer-wrap {
  max-width: 1100px;
  margin: auto;
  padding: 40px 20px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30px;
}

.footer-brand {
  display: flex;
  gap: 14px;
}

.footer-brand img {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  object-fit: cover;
}

.footer-title {
  font-weight: 700;
  margin-bottom: 10px;
}

.footer a {
  display: block;
  margin-bottom: 6px;
  color: var(--text-alt);
  text-decoration: none;
}

.footer a:hover {
  color: var(--text);
}

.payments {
  display: grid;
  grid-template-columns: repeat(3,1fr);
  gap: 10px;
}

.payments div {
  padding: 10px;
  background: #001528;
  border-radius: 12px;
  font-size: 13px;
  text-align: center;
  color: var(--text-alt);
}

.copy {
  text-align: center;
  padding: 14px;
  font-size: 13px;
  color: #888;
  border-top: 1px solid rgba(255,255,255,.06);
}

/* MOBILE FIXES */
@media (max-width: 768px) {
  .grid {
    grid-template-columns: 1fr;
  }

  .paket-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }

  .footer-wrap {
    grid-template-columns: 1fr;
    text-align: center;
  }

  .footer-brand {
    justify-content: center;
  }

  .menu {
    display: none;
  }
}

/* MOBILE DROPDOWN NAV */
.mobile-menu {
  display: none;
  position: relative;
}

.dots-btn {
  background: none;
  border: none;
  color: var(--text);
  font-size: 26px;
  cursor: pointer;
  padding: 6px 10px;
}

.mobile-dropdown {
  position: absolute;
  top: 48px;
  right: 0;
  background: linear-gradient(145deg,#001a2f,#00284f);
  border-radius: 14px;
  padding: 8px;
  width: 170px;
  box-shadow: 0 10px 30px rgba(0,0,0,.4);
  display: none;
  z-index: 2000;
}

.mobile-dropdown a {
  display: block;
  padding: 10px 12px;
  color: var(--text-alt);
  text-decoration: none;
  font-size: 14px;
  border-radius: 10px;
}

.mobile-dropdown a:hover {
  background: rgba(0,255,255,0.15);
  color: var(--text);
}

.mobile-dropdown .mobile-topup {
  background: var(--p);
  color: var(--text);
  text-align: center;
  margin-top: 8px;
  padding: 10px 12px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 600;
  transition: 0.2s;
}

.mobile-dropdown .mobile-topup:hover {
  background: var(--p-hover);
}
.paket .emoji img {
  width: 28px;
  height: 28px;
  object-fit: cover;
  margin-bottom: 4px;
}
.btn.alt.active {
  background: var(--p);      /* warna utama */
  color: var(--text);        /* teks utama */
}
.banner-text {
  text-align: center;
  background: linear-gradient(90deg, #00ffff, #00cfff);
  color: #001f3f;
  font-weight: 700;
  font-size: 16px;
  padding: 12px 0;
  border-radius: 12px;
  margin-bottom: 16px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}
/* SAMAKAN SEMUA INPUT */
input,
select {
  width: 100%;
  padding: 14px;
  margin-top: 12px;
  font-size: 16px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: #001528;
  color: var(--text);
}

/* PROMO INFO */
.promo-info {
  margin-top: 8px;
  padding: 10px 14px;
  border-radius: 12px;
  background: rgba(0,255,255,0.08);
  border: 1px dashed rgba(0,255,255,0.4);
  font-size: 13px;
  color: var(--p);
}
/* WRAPPER FORM */
.form-wrap {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* GROUP */
.form-group {
  display: flex;
  flex-direction: column;
}

/* INPUT & SELECT SERAGAM */
.input {
  width: 100%;
  padding: 14px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: #090822;
  color: #fff;
  font-size: 15px;
}

/* TEKS KECIL */
.hint-text {
  font-size: 12px;
  color: #b5b5b5;
  margin-top: 6px;
  line-height: 1.4;
}

.error-text {
  color: #ff6b6b;
  font-size: 13px;
  margin-top: 4px;
}

.help-link {
  margin-top: 8px;
  font-size: 13px;
  color: #ccc;
}

.help-link a {
  color: var(--p);
  text-decoration: underline;
}

/* PROMO INFO */
.promo-info {
  margin-top: 8px;
  padding: 10px 14px;
  border-radius: 12px;
  background: rgba(0,255,255,0.08);
  border: 1px dashed rgba(0,255,255,0.4);
  font-size: 13px;
  color: var(--p);
}

/* TRUST NOTE */
.rate-note ul {
  text-align: left;
  margin: 8px 0 0 16px;
  font-size: 13px;
}


  </style>
  </head>

  <body>
<!-- MAINTENANCE MODE -->
<div id="maintenance" class="maintenance" style="display:none">
  <div class="maintenance-box">
    <h1>üöß Maintenance</h1>
    <p>
      Saat ini sistem sedang dalam perbaikan.<br>
      Kami akan kembali online secepatnya.
    </p>

    <p style="margin-top:10px;font-size:13px">
      üìå Order tetap bisa via WhatsApp
    </p>

    <a class="wa-btn" href="https://wa.me/6285182456497">
      üí¨ Hubungi WhatsApp
    </a>
  </div>
</div>

  <!-- NAVBAR -->
 <div class="navbar">
  <div class="nav-inner">

    <div class="logo-wrap">
      <img src="kucing.jpg">
      <span>KaisarStore</span>
    </div>

    <div class="menu">
      <a href="#">Beranda</a>
      <a href="#paket">Paket</a>
      <a href="#tools">Kalkulator</a>
      <a href="https://wa.me/6285182456497">Hubungi</a>
    </div>

    <div class="nav-btn" onclick="showConfirm()">Top Up</div>
 <!-- MOBILE MENU BUTTON -->
<div class="mobile-menu">
  <button class="dots-btn" onclick="toggleMenu()">‚ãÆ</button>

  <div class="mobile-dropdown" id="mobileMenu">
  <a href="#beranda" onclick="closeMenu()">Beranda</a>
  <a href="#paket" onclick="closeMenu()">Paket</a>
  <a href="#tools" onclick="closeMenu()">Kalkulator</a>
  <a href="https://wa.me/6285182456497" onclick="closeMenu()">Hubungi</a>
  <div class="mobile-topup" onclick="showConfirm(); closeMenu();">Top Up</div>
</div>

</div>



  </div>
</div>


  <div class="container">

  <!-- KONFIRMASI -->
<!-- CONFIRM BOX -->
<div id="confirmBox" class="confirm">
  <h3>üìã Konfirmasi Pesanan</h3>

  <p id="cfPaket">Paket: -</p>
  <p id="cfHarga">Harga: -</p>
  <p id="cfBefore">Before Tax: -</p>
  <p id="cfAfter">After Tax: -</p>
  <p id="cfPass">Pass ID: -</p>


  <button class="btn" onclick="toWA()">Lanjut ke WhatsApp</button>
</div>


  <!-- PAKET -->
 <!-- SPANDUK TULISAN -->
<div class="banner-text">
  üî• Robux Terpercaya & Aman, Proses Cepat! üî•
</div>

<section id="paket" class="card">
  <h2>
    <img src="robux1.jpg" alt="Robux" style="width:28px; height:28px; object-fit:cover; vertical-align:middle; margin-right:6px;">
    Pilih Paket Robux
  </h2>
  <div id="paketList" class="paket-grid"></div>
  <div class="card" style="margin-top:20px">
    <h3>
      <img src="robux1.jpg" alt="Robux" style="width:24px; height:24px; object-fit:cover; vertical-align:middle; margin-right:4px;">
      Paket Custom
    </h3>
    <input id="customRobux" type="number" placeholder="Masukkan jumlah Robux">
    <div id="customHarga" class="result">Harga: -</div>
    <button class="btn" id="btnCustomTopup" style="display:none" onclick="customTopup()">Top Up Custom</button>
  </div>
</section>


  <!-- FORM CONTAINER -->
<div class="form-wrap">

  <div class="rate-note" id="rateNote"></div>

  <!-- GAMEPASS ID -->
  <div class="form-group">
    <input
      id="passId"
      type="text"
      inputmode="numeric"
      placeholder="Masukkan Gamepass ID (hanya angka, bukan password)"
      class="input"
    >

    <div class="hint-text">
      üîí Kami <b>tidak pernah</b> meminta password, OTP, atau login akun Roblox.<br>
      Gamepass ID adalah angka publik yang aman digunakan.
    </div>

    <div id="passWarning" class="error-text" style="display:none;">
      Gamepass ID harus berupa angka
    </div>

    <div class="help-link">
      Cara cek Pass ID / Gamepass ID?
      <a href="https://whatsapp.com/channel/0029VbBxOdG5Ui2Xlg1qYC0o" target="_blank">
        Cek di Saluran WhatsApp Kami
      </a>
    </div>
  </div>

  <!-- PROMO CODE -->
  <div class="form-group">
    <input
      id="promoCode"
      type="text"
      placeholder="Kode Promo (Opsional)"
      class="input"
    >
    <div id="promoInfo" class="promo-info" style="display:none"></div>
  </div>

  <!-- PAYMENT -->
  <div class="form-group">
    <select id="payment" class="input">
      <option value="">Pilih Metode Pembayaran</option>
      <option>Bank Transfer</option>
      <option>QRIS</option>
      <option>E-Wallet (OVO / DANA / GoPay)</option>
    </select>
  </div>

</div>

<!-- TRUST NOTE -->
<div class="rate-note">
  üîí <b>Aman & Bukan Phishing</b><br>
  Kami <b>TIDAK PERNAH</b> meminta:
  <ul>
    <li>Password Roblox</li>
    <li>Kode OTP</li>
    <li>Login akun</li>
  </ul>
  Proses menggunakan <b>Gamepass resmi Roblox</b>.
</div>


  <button id="btnTopup" class="btn" onclick="showConfirm()">Top Up Sekarang</button>

  </section>

  <!-- TOOLS -->
  <section id="tools" style="margin-top:40px">
  <div class="grid">
<div class="card">
  <h3>üßÆ Kalkulator Robux</h3>
  <input id="robux" type="number" placeholder="Masukkan Robux">
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px">
    <button class="btn alt" onclick="calcRobux('before')">Before Tax</button>
    <button class="btn alt" onclick="calcRobux('after')">After Tax</button>
  </div>
  <div id="resRobux" class="result">‚Äî</div>
  <div id="robuxNote" style="margin-top:6px; font-size:13px; color:var(--text-alt)">
    Masukkan jumlah Robux dan pilih Before atau After Tax untuk melihat hasilnya.
  </div>
</div>

  <div class="card">
  <h3>üí∞ Hitung dari Harga</h3>
  <input id="harga" type="number" placeholder="Contoh: 10500" oninput="calcHarga()">
  <div id="resHarga" class="result">
    Masukkan harga untuk melihat berapa Robux yang didapat
  </div>
</div>

  </section>

  </div>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="footer-wrap">

      <div>
      <div class="footer-brand">
    <img src="kucing.jpg" alt="KaisarStore Cat">
    <div>
      <div class="footer-title">KaisarStore</div>
      <p style="color:#aaa;font-size:14px">
        Layanan top-up game terpercaya dengan dukungan premium 24 jam. <br>
        Proses aman, cepat, dan dapat diandalkan.
      </p>
    </div>
  </div>
  <div class="footer-title">Hubungi Kami</div>

  <a href="https://wa.me/6285182456497">üí¨ Chat WhatsApp</a>

  <a href="" target="_blank">
  üì¢ Saluran WhatsApp KaisarStore
  </a>

  <a href="#paket">üíé Paket Robux</a>

      </div>

      <div>
        <div class="footer-title">Pembayaran</div>
        <div class="payments">
          <div>OVO</div>
          <div>GoPay</div>
          <div>DANA</div>
          <div>QRIS</div>
          <div>Bank</div>
        </div>
      </div>

    </div>

    <div class="copy">
      ¬© 2025 KaisarStore ‚Ä¢ All Rights Reserved
    </div>
  </footer>

  <script>
    let hargaFinal = 0;
let promoText = "";

    let promoPercent = 0;
let promoCodeActive = "";

  /* ===== PROMO CONFIG ===== */
const PROMO_LIST = {
     // diskon 10%
       // diskon 20%
      // diskon 25%
};


    // ===== HELPERS =====
    function parseAngka(val){
      return Number(String(val).replace(/\./g,'').replace(/,/g,''));
    }

    const RATE = 113;
    const WA = "6285182456497";

    // tampilkan rate di halaman
    document.getElementById("rateNote").innerHTML = `
      üí± Rate: <b>Rp ${RATE} / Robux</b><br>
      <span>‚ö†Ô∏è Harga dapat berubah sewaktu-waktu</span>
    `;

    let selectedRobux = 0;

    const paketData = [100,200,300,400,500,600,700,800,900];
    const paketList = document.getElementById("paketList");
    const btnTopup = document.getElementById("btnTopup");
    const customInput = document.getElementById("customRobux");
    const passInput = document.getElementById('passId');
const passWarning = document.getElementById('passWarning'); // nanti buat elemen <div id="passWarning">
  const confirmBox = document.getElementById("confirmBox");
const cfPaket  = document.getElementById("cfPaket");
const cfHarga  = document.getElementById("cfHarga");
const cfBefore = document.getElementById("cfBefore");
const cfAfter  = document.getElementById("cfAfter");
const cfPass = document.getElementById("cfPass");


 
passInput.addEventListener('input', () => {
  const val = passInput.value.trim();

  if (/^\d*$/.test(val)) { // hanya angka
    passWarning.style.display = 'none';
    btnTopup.disabled = false;

    // üî• REAL-TIME UPDATE KE CONFIRM BOX
    cfPass.innerText = val
      ? `Pass ID: ${val}`
      : "Pass ID: -";

  } else {
    passWarning.style.display = 'block';
    btnTopup.disabled = true;

    // optional: reset kalau invalid
    cfPass.innerText = "Pass ID: -";
  }
});


    /* ===== RENDER PAKET STANDAR ===== */
   /* ===== RENDER PAKET STANDAR ===== */
paketData.forEach(r => {
  const div = document.createElement("div");
  div.className = "paket";

  div.innerHTML = `
    <div class="check">‚úì</div>
    <img src="robux1.jpg" alt="Robux" style="width:28px; height:28px; object-fit:cover; margin-bottom:6px;">
    <div class="robux">${r} Robux</div>
    <div class="harga">Rp ${(r * RATE).toLocaleString()}</div>
  `;

  div.onclick = () => {
    const isActive = div.classList.contains("active");

    document.querySelectorAll(".paket")
      .forEach(p => p.classList.remove("active"));

    if (!isActive) {
      div.classList.add("active");
      selectedRobux = r;
      robux.value = r;
      btnTopup.style.display = "block";
    } else {
      selectedRobux = 0;
      robux.value = "";
      btnTopup.style.display = customInput.value ? "block" : "none";
    }

    updateConfirm();
  };

  paketList.appendChild(div);
});

  function calcRobux(t){
  const r = parseAngka(robux.value);
  const robuxNote = document.getElementById("robuxNote");

  if(!r){ 
    resRobux.innerText = "‚Äî";
    robuxNote.innerText = "Masukkan jumlah Robux, lalu pilih tombol Before atau After Tax untuk melihat hasil.";
    document.querySelectorAll(".btn.alt").forEach(b => b.classList.remove("active"));
    return;
  }

  resRobux.innerText =
    t === 'before'
      ? Math.floor(r * 0.7) + " Robux (Diterima)"
      : Math.ceil(r / 0.7) + " Robux (Set Gamepass)";

  // toggle active
  document.querySelectorAll(".btn.alt").forEach(b => b.classList.remove("active"));
  if(t === 'before') {
    document.querySelector(".btn.alt:nth-child(1)").classList.add("active");
    robuxNote.innerText = "Kalau kamu tekan Before Tax, jumlah yang diterima akan dikurangi pajak.";
  } else {
    document.querySelector(".btn.alt:nth-child(2)").classList.add("active");
    robuxNote.innerText = "Kalau kamu tekan After Tax, yang masuk akan sesuai jumlah Robux yang kamu inginkan.";
  }
}

function customTopup() {
  selectedRobux = parseAngka(customInput.value);
  if(!selectedRobux || selectedRobux < 100) {
    alert("Minimal top-up 100 Robux");
    return;
  }
  showConfirm();
}

 //* ===== HITUNG ROBUX SESUAI LOGIKA LO ===== */
function calcHarga() {
  const h = parseAngka(harga.value); // input uang
  if (!h) { 
    resHarga.innerText = "‚Äî"; 
    return; 
  }

  let setGP, finalRobux;

  if (h === 11300) {
    setGP = 143;
    finalRobux = 100;
  } else if (h === 50000) {
    setGP = 625;
    finalRobux = 437;
  } else {
    // opsi default: hitung kasar
    setGP = Math.floor(h / 75); // atau logika lain kalau input beda
    finalRobux = Math.floor(setGP * 0.7); // tax 30%
  }

  resHarga.innerHTML = `
    Harga: ${h}<br>
    Set Gamepass: ${setGP} Robux<br>
    Bersih: ${finalRobux} Robux
  `;
}


    /* ===== KONFIRMASI ===== */
  function updateConfirm() {
  const val = selectedRobux > 0
    ? selectedRobux
    : parseAngka(customInput.value);

  if (!val || val <= 0) {
    resetConfirm();
    return;
  }

  const hargaAwal = val * RATE;
  const diskon = promoPercent > 0
    ? Math.floor(hargaAwal * promoPercent / 100)
    : 0;

  hargaFinal = hargaAwal - diskon;

  promoText = promoPercent > 0
    ? `Promo: ${promoCodeActive} (${promoPercent}%)`
    : "";

  cfPaket.innerText  = `Paket: ${val} Robux`;
  cfHarga.innerText  = `Harga: Rp ${hargaFinal.toLocaleString()}`;
  cfBefore.innerText = `Before Tax: ${Math.floor(val * 0.7)} Robux`;
  cfAfter.innerText  = `After Tax: ${Math.ceil(val / 0.7)} Robux`;
  cfAfter.innerText = `After Tax: ${Math.ceil(val / 0.7)} Robux`;

const passVal = passInput.value.trim();
cfPass.innerText = passVal
  ? `Pass ID: ${passVal}`
  : "Pass ID: -";



  confirmBox.style.display = "block";
}


function resetConfirm() {
  const box = document.getElementById('confirmBox');

  box.style.display = 'none';

  cfPaket.innerText  = '-';
  cfHarga.innerText  = '-';
  cfBefore.innerText = '-';
  cfAfter.innerText  = '-';
  cfPass.innerText = "-";

}

 function showConfirm(){
  const val = selectedRobux > 0
    ? selectedRobux
    : parseAngka(customInput.value);

  if (!val || val <= 0) {
    alert("Pilih paket atau isi jumlah Robux dulu");
    return;
  }

  updateConfirm();

  // scroll aman (tidak error)
  setTimeout(() => {
    confirmBox.scrollIntoView({
      behavior: "smooth",
      block: "start"
    });
  }, 50);
}



    /* ===== WA ===== */
    function toWA(){
      const val = selectedRobux > 0 ? selectedRobux : parseAngka(customInput.value);
      if(!val || val <=0) return;

      const pass = passId.value.trim();
      const pay  = payment.value.trim();
      let extra = "";
      if(pass) extra += `\n\nPass ID / Gamepass ID:\n${pass}`;
      if(pay)  extra += `\n\nMetode Pembayaran:\n${pay}`;

      const msg = `Halo KaisarStore,
Saya mau top up Robux

Jumlah: ${val} Robux
Harga: Rp ${hargaFinal.toLocaleString()}
Before Tax: ${Math.floor(val * 0.7)}
After Tax: ${Math.ceil(val / 0.7)}
${promoText}
${extra}`;


      window.open(`https://wa.me/${WA}?text=${encodeURIComponent(msg)}`);
    }

    /* ===== CUSTOM INPUT LIVE ===== */
 const MIN_ROBUX = 100;
const MAX_ROBUX = 10000; // opsional, batasi maksimal

customInput.addEventListener("input", () => {
  let val = parseAngka(customInput.value);

  // validasi minimal
  if (val < MIN_ROBUX) {
    customHarga.innerText = `Minimal top-up: ${MIN_ROBUX} Robux`;
    btnTopup.style.display = "none";
    selectedRobux = 0;
    document.querySelectorAll(".paket").forEach(p => p.classList.remove("active"));
    if(confirmBox.style.display === "block") resetConfirm();
    return;
  }

  // validasi maksimal (opsional)
  if (val > MAX_ROBUX) {
    customHarga.innerText = `Maksimal top-up: ${MAX_ROBUX} Robux`;
    btnTopup.style.display = "none";
    if(confirmBox.style.display === "block") resetConfirm();
    return;
  }

  // hitung harga & set gamepass aman
  const harga = val * RATE;
  const setGamepass = Math.ceil(val * 1.43);

  customHarga.innerHTML = `
    Set Gamepass: <b>${setGamepass} Robux</b><br>
    Harga: <b>Rp ${harga.toLocaleString()}</b>
  `;

  // tombol aktif hanya untuk input valid
  btnTopup.style.display = "block";

  selectedRobux = 0;
  document.querySelectorAll(".paket").forEach(p => p.classList.remove("active"));

  if(confirmBox.style.display === "block") updateConfirm();
});




/* klik luar = nutup */
// Klik di luar = nutup dropdown mobile
document.addEventListener('click', function(e) {
  const menu = document.getElementById('mobileMenu');
  const btn = document.querySelector('.dots-btn');

  // Kalau target bukan tombol dan bukan menu, tutup menu
  if (!btn.contains(e.target) && !menu.contains(e.target)) {
    if(menu.classList.contains('show')) {
      menu.classList.remove('show');
      menu.style.display = 'none';
    }
  }
});

// Fungsi toggle tombol
function toggleMenu() {
  const menu = document.getElementById('mobileMenu');
  if(menu.classList.contains('show')) {
    menu.classList.remove('show');
    menu.style.display = 'none';
  } else {
    menu.classList.add('show');
    menu.style.display = 'block';
  }
}
function closeMenu() {
  const menu = document.getElementById('mobileMenu');
  menu.classList.remove('show');
  menu.style.display = 'none';
}
/* ===== MAINTENANCE TOGGLE ===== */
const MAINTENANCE_MODE = false; // üî¥ true = ON, false = OFF

if (MAINTENANCE_MODE) {
  document.getElementById("maintenance").style.display = "flex";
  document.body.style.overflow = "hidden"; // lock scroll
}
const promoInput = document.getElementById("promoCode");
const promoInfo  = document.getElementById("promoInfo");

promoInput.addEventListener("input", () => {
  const code = promoInput.value.trim().toUpperCase();

  if (PROMO_LIST[code]) {
    promoPercent = PROMO_LIST[code];
    promoCodeActive = code;

    promoInfo.style.display = "block";
    promoInfo.innerHTML = `üéâ Kode <b>${code}</b> aktif<br>Diskon <b>${promoPercent}%</b>`;

  } else {
    promoPercent = 0;
    promoCodeActive = "";
    promoInfo.style.display = "none";
  }

  if(confirmBox.style.display === "block") updateConfirm();
});


  </script>



  </body>
  </html>
